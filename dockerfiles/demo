FROM node:14.16.0-slim
ENV PORT=8080

COPY package.json package-lock.json /app/
WORKDIR /app
RUN npm ci
COPY . /app
RUN rm .eslintrc.js

ENV REACT_APP_HORIZON=https://horizon.stellar.org
ENV REACT_APP_LUMENSCAN_URL=https://lumenscan.io
ENV REACT_APP_HOST=https://app.lumenswap.io
ENV REACT_APP_LUMEN_API=https://demo-api.lumenswap.io
ENV REACT_APP_ENV=production
ENV REACT_APP_LOTTERY_ACCOUNT=GAB7STHVD5BDH3EEYXPI3OM7PCS4V443PYB5FNT6CFGJVPDLMKDM24WK
ENV REACT_APP_LUSI_ISSUER=GCXSMVCOFOINEEETRTVVGGZRQTVMWT6JSLTR6DXBXZLNYGZSHFXI6V2V
ENV SENTRY_DSN=https://08c9ef8f8a9e41628164018ef2c629e0@o1057225.ingest.sentry.io/6043912
ENV SENTRY_LOG_LEVEL=debug

RUN npm run build
CMD ["npm", "run", "start"]
